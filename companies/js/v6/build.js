!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=26)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e){this.criteria=t,this.empty=e}isEmpty(){return this.empty}getCriteria(){return this.criteria}}e.FilledFilterState=function(t){return new i(t,!1)},e.EmptyFilterStateObject=new i([],!0)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n=s(5);class r{constructor(t,e){this.state=t,this.matcher=e}getState(){return this.state}getMatcher(){return this.matcher}}e.FilterStateMatcher=r,e.NullFilterStateMatcherObject=new r(i.EmptyFilterStateObject,new n.SameMatcher)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAliasMap=function(t){const e={};for(let s=0;s<t.length;s++)e[t[s]]=!0;return e}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ApiClient=class{constructor(t){this.url=t}data(t,e){fetch(this.url).then(t=>t.json()).then(t).catch(e)}};e.SyncState=class{constructor(t){this.completeHandler=t,this.map=null,this.data=null}setMap(t){this.map=t,this.sync()}setData(t){this.data=t,this.sync()}sync(){null!==this.map&&null!==this.data&&(0,this.completeHandler)(this.data,this.map)}};class i{constructor(){this.loaded=!1,this.handler=null}handle(){if(null===this.handler)this.loaded=!0;else{(0,this.handler)()}}on(t){this.loaded?t():this.handler=t}}e.LoadHandler=i,e.createSyncHandler=function(){const t=new i,e=function(){t.handle()};return e.on=function(e){t.on(e)},e},e.getCheckedAliases=function(t){const e=[];return t.each(function(){const t=$(this),s=t.attr("data-alias");t.is(":checked")&&e.push(s)}),e};e.EmptyDataViewer=class{render(t){}};class n{render(t){}}e.EmptyMapViewer=n;const r=3;class a{constructor(t){this.list=[],this.maxSize=t}add(t){this.list.push(t),this.list.length>this.maxSize&&this.list.shift().close()}clear(){this.list=[]}}class o{constructor(t,e){this.locationGrouper=t,this.map=e,this.markers=[],this.infoWindowController=new a(r)}render(t){this.clear();const e=this.locationGrouper.group(t.getResult()),s=e.map;for(let t in s)if(s.hasOwnProperty(t))for(let i in s[t])if(s[t].hasOwnProperty(i)){const s=e.fetch(t,i),n=new google.maps.LatLng(t,i),r=new google.maps.Marker({position:n,map:this.map,title:s.getTitle()});this.click(r,s),this.markers.push(r)}}click(t,e){google.maps.event.addListener(t,"click",this.open.bind(this,t,e))}open(t,e){const s=new google.maps.InfoWindow({content:e.getContent()});s.open(this.map,t),this.infoWindowController.add(s)}clear(){for(let t=0;t<this.markers.length;t++){const e=this.markers[t];e.setMap(null),google.maps.event.clearListeners(e,"click")}this.infoWindowController.clear()}}e.FilledMapViewer=o;e.MapViewerManager=class{constructor(t){this.locationGrouper=t,this.mapViewer=new n}setMap(t){this.mapViewer=new o(this.locationGrouper,t)}render(t){this.mapViewer.render(t)}};e.StatsViewer=class{render(t){}};e.EmptyCloseComponent=class{close(){}};e.AutocompletedCheckboxListView=class{constructor(t,e){const s=this;this.$element=t,this.componentAlias=e,this.aliasMap={},t.on("click",".js-remove",function(t){const e=$(t.target).closest("p"),i=$("input",e).attr("data-alias");e.remove(),s.remove(i)})}addChecked(t,e){this.aliasMap.hasOwnProperty(e)||(this.$element.append(this.renderCheckbox(t,e,!0)),this.aliasMap[e]=!0)}render(t,e){if(null===e)return;const s=[];for(let i=0;i<t.length;i++){const n=t[i];e.hasOwnProperty(n.alias)&&(s.push(this.renderCheckbox(n.name,n.alias,!0===e[n.alias])),this.aliasMap[n.alias]=!0)}this.$element.append(s.join(""))}renderCheckbox(t,e,s){let i="";s&&(i="checked");const n=`js-${this.componentAlias}-input-${e}`;return`<p>\n    <label for="${n}">\n        <input type="checkbox" id="${n}" ${i} data-alias="${e}" />\n        <span>${t} <span class="badge js-remove">x</span></span>\n    </label>\n</p>`}remove(t){delete this.aliasMap[t]}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CheckboxComponent=class{constructor(t,e){this.$element=t,"1"===e&&this.$element.attr("checked","checked")}checked(){return this.$element.is(":checked")}criteria(){return"1"}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SameMatcher=class{match(t){return!0}};e.MergeMatcher=class{constructor(t,e){this.source=t,this.next=e}match(t){return this.source.match(t)&&this.next.match(t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),n=s(7);class r{constructor(t,e){this.filterState=t,this.modifier=e}getState(){return this.filterState}getModifier(){return this.modifier}}e.FilterStateModifier=r,e.NullFilterStateModifierObject=new r(i.EmptyFilterStateObject,new n.SameModifier)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SameModifier=class{modify(t){return t}};e.MergeModifier=class{constructor(t,e){this.source=t,this.next=e}modify(t){const e=this.source.modify(t);return null===e?null:this.next.modify(e)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e,s){this.aliasStateMap=t,this.selected=e,this.disabled=s}}e.AliasStateMap=i,e.createAliasStateMapByCheckboxes=function(t){const e=[],s=[],n={};return t.each(function(){const t=$(this),i=t.attr("data-alias"),r=t.is(":checked");n[i]=r,r?e.push(i):s.push(i)}),new i(n,e,s)}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2);class n{constructor(t){this.aliasMap=i.createAliasMap(t)}}e.MultiSelectMatcher=n;e.SameAliasMatcher=class extends n{constructor(t,e){super(t),this.state=e}match(t){return this.aliasMap.hasOwnProperty(t.alias)===this.state}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.IdentityCriteriaConverter=class{unmarshal(t){return t}marshal(t){return t}};e.RangeCriteriaConverter=class{constructor(){this.delimiter="-"}unmarshal(t){const e=t.split(this.delimiter),s=parseInt(e[0],10);if(2===e.length){const t=parseInt(e[1],10);return t>0&&t>=s?{from:s,to:t}:null}return s>0?{from:s,to:0}:0}marshal({from:t,to:e}){const s=[t];return e>0&&s.push(e),s.join(this.delimiter)}};e.MultiSelectCriteriaConverter=class{constructor(){this.delimiter=","}unmarshal(t){return""!==t?t.split(this.delimiter):null}marshal(t){return 0===t.length?"":t.join(this.delimiter)}};e.MultiCheckboxCriteriaConverter=class{constructor(){this.suffix="-unchecked"}unmarshal(t){if(""!==t){const e=t.split(","),s={};for(let t=0;t<e.length;t++){const i=e[t];i.endsWith(this.suffix)?s[i.substring(0,i.length-this.suffix.length)]=!1:s[i]=!0}return s}return null}marshal(t){const e=[];for(let s in t)if(t.hasOwnProperty(s)){const i=t[s];!0===i?e.push(s):!1===i?e.push(s+this.suffix):console.error(`wrong state for "${s}" = "${i}"`)}return e.join(",")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UniqueKeyChecker=class{constructor(){this.map={},this.list=[]}unique(t){if(this.map.hasOwnProperty(t))throw new Error(`already exists: ${t}`);return this.map[t]=!0,this.list.push(t),t}keys(){return this.list}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(13),n="center";e.UrlStateContainer=class{constructor(t,e,s,r){!function(t,e){for(let s=0;s<t.length;s++){const i=t[s];if(!e.hasOwnProperty(i))throw new Error(`missing converter for "${i}"`)}}(s,r),this.center=t.center,this.zoom=t.zoom;const a=new URLSearchParams(window.location.search.substring(1));if(a.has(n)){const t=function(t){if(t){const[e,s,i]=t.trim().split(","),n=parseFloat(e),r=parseFloat(s),a=parseFloat(i);if(n>0&&r>0&&a>0)return[n,r,a]}return null}(a.get(n));if(t){const[e,s,i]=t;this.center={latitude:e,longitude:s},this.zoom=i}}this.buildCriteriaMap(this.parseCriteriaMap(a,s,r)),this.debounce=new i.Debounce(e),this.lazyUpdateHandler=this.update.bind(this)}getCenter(){return this.center}setCenter(t){this.center=t,this.lazyUpdate()}getZoom(){return this.zoom}setZoom(t){this.zoom=t,this.lazyUpdate()}getCriteriaByName(t,e=null){return this.criteriaMap.hasOwnProperty(t)?this.criteriaMap[t]:e}setCriteriaMap(t){this.buildCriteriaMap(t),this.update()}buildCriteriaMap(t){const e=[];for(let s in t)if(t.hasOwnProperty(s)){const i=this.criteriaNameConverterMap[s];e.push("&"+s+"="+encodeURIComponent(i.marshal(t[s])))}this.criteriaMap=t,this.criteria=e.join("")}parseCriteriaMap(t,e,s){this.criteriaNameConverterMap=s;const i={};for(let n=0;n<e.length;n++){const r=e[n];if(t.has(r)){const e=s[r],n=decodeURIComponent(t.get(r)).trim();if(""!==n){const t=e.unmarshal(n);null!==t&&(i[r]=t)}}}return i}lazyUpdate(){this.debounce.handle(this.lazyUpdateHandler)}update(){const t=this.center.latitude+","+this.center.longitude+","+this.zoom,e=window.location.pathname+"?"+n+"="+t+this.criteria;window.history.pushState(null,"",e),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Pageview",url:e})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Debounce=class{constructor(t){this.delay=t,this.timerId=0}handle(t){clearTimeout(this.timerId),this.timerId=setTimeout(t,this.delay)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(4),n=s(0),r=s(1);e.CheckboxFilterMatchBuilder=class{constructor(t,e,s){this.checkbox=new i.CheckboxComponent(t,e),this.className=s}build(){if(this.checkbox.checked()){const t=this.className;return new r.FilterStateMatcher(n.FilledFilterState(this.checkbox.criteria()),new t)}return r.NullFilterStateMatcherObject}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(4),n=s(0),r=s(6);e.CheckboxStateModifierBuilder=class{constructor(t,e,s){this.checkbox=new i.CheckboxComponent(t,e),this.className=s}build(){if(this.checkbox.checked()){const t=this.className;return new r.FilterStateModifier(n.FilledFilterState(this.checkbox.criteria()),new t)}return r.NullFilterStateModifierObject}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(5),n=s(7);class r{constructor(t={}){this.criteriaMap=t}getCriteriaMap(){return this.criteriaMap}}e.FilterContainer=r;class a{constructor(){this.map={},this.exists=!1}add(t,e){this.map[t]=e,this.exists=!0}isExists(){return this.exists}getMap(){return this.map}}e.FilterContainerBuilder=class{constructor(t,e){this.matcherBuilderMap=t,this.modifierBuilderMap=e}build(){const t=new a;let e=new i.SameMatcher;for(let s in this.matcherBuilderMap)if(this.matcherBuilderMap.hasOwnProperty(s)){const n=this.matcherBuilderMap[s].build(),r=n.getState();if(r.isEmpty())continue;t.add(s,r.getCriteria()),e=new i.MergeMatcher(e,n.getMatcher())}let s=new n.SameModifier;for(let e in this.modifierBuilderMap)if(this.modifierBuilderMap.hasOwnProperty(e)){const i=this.modifierBuilderMap[e].build(),r=i.getState();if(r.isEmpty())continue;t.add(e,r.getCriteria()),s=new n.MergeModifier(s,i.getModifier())}return t.isExists()?new c(t.getMap(),e,s):new o}};class o extends r{filter(t){return t}}class c extends r{constructor(t,e,s){super(t),this.matcher=e,this.modifier=s}filter(t){const e=[];for(let s=0;s<t.length;s++){const i=t[s];if(this.matcher.match(i)){const t=this.modifier.modify(i);null!==t&&e.push(t)}}return e}}e.FilledFilterContainer=c},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GroupMarker=class{constructor(t){this.list=t}};e.GroupMarkerMap=class{constructor(t){this.metaClass=t,this.map={}}add(t,e,s){this.map[t]=this.map[t]||{},this.map[t][e]=this.map[t][e]||[],this.map[t][e].push(s)}fetch(t,e){const s=this.map[t][e];return new(0,this.metaClass)(s)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EmptyFilterViewBuilder=class{build(t){}};e.CallbackFilterViewBuilder=class{constructor(t){this.handler=t}build(t){(0,this.handler)(t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(8),n=s(9),r=s(0),a=s(1);e.AliasFilterStateMatcherBuilder=class{constructor(t){this.$element=t}build(){const t=i.createAliasStateMapByCheckboxes($("input",this.$element));return t.selected.length>0?new a.FilterStateMatcher(r.FilledFilterState(t.aliasStateMap),new n.SameAliasMatcher(t.selected,!0)):t.disabled.length>0?new a.FilterStateMatcher(r.FilledFilterState(t.aliasStateMap),new n.SameAliasMatcher(t.disabled,!1)):a.NullFilterStateMatcherObject}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SubmitAction=class{constructor(t){this.handler=t}submit(){this.handler()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor({shown:t=!1,loaded:e=!1,submit:s=!1,empty:i=!1,count:n=0}={}){this.shown=t,this.loaded=e,this.submit=s,this.empty=i,this.count=n}}e.ResultCountProps=i;e.ResultCountComponent=class{constructor(t){this.$hint=$("#js-count-hint"),this.$loader=$(".js-count-loader",this.$hint),this.$count=$(".js-count-result",this.$hint),this.$empty=$(".js-empty",this.$hint),this.$submit=$(".js-submit",this.$hint),$(".js-close",this.$hint).click(()=>this.hide()),this.$submit.click(()=>{t.submit(),this.hide()})}setTop(t){this.$hint.css("top",t)}showCount(t){this.render(new i({shown:!0,submit:t>0,empty:0===t,count:t}))}render(t){this.$hint.toggleClass("shown",t.shown),this.$loader.toggleClass("loader",t.loaded),this.$count.html(t.count),this.$empty.toggle(t.empty),this.$submit.toggle(t.submit)}hide(){this.render(new i)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Location=class{constructor(t,e){this.latitude=t,this.longitude=e}},e.distance=function(t,e){const s=t.latitude-e.latitude,i=t.longitude-e.longitude;return s*s+i*i}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(3),n=s(24);window.initializeMap=i.createSyncHandler();e.Application=class{constructor(t,e,s,i,r,a,o,c){this.urlStateContainer=t,this.mapViewer=e,this.dataViewer=s,this.statsViewer=i,this.apiClient=r,this.archiver=a,this.filterContainerBuilder=o,this.filterViewBuilder=c,this.searcherManager=new n.SearcherManager(new n.NullSearcher),this.resultContainer=this.searcherManager.search()}start(){const t=this,e=this.urlStateContainer,s=this.mapViewer,r=this.archiver,a=this.apiClient,o=this.filterContainerBuilder,c=this.filterViewBuilder,l=this.searcherManager,u=new i.SyncState(function(e,i){const a=r.unzip(e);c.build(a),l.setSearcher(new n.FilledSearcher(a,o)),s.setMap(i),t.initializeSearchAndRender()});a.data(function(t){u.setData(t)},console.error),window.initializeMap.on(function(){const t=e.getCenter(),s={zoom:e.getZoom(),center:new google.maps.LatLng(t.latitude,t.longitude),mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControl:!1},i=new google.maps.Map(document.getElementById("js-google-map"),s);u.setMap(i),i.addListener("center_changed",function(){const t=i.getCenter();e.setCenter({latitude:t.lat(),longitude:t.lng()})}),i.addListener("zoom_changed",function(){e.setZoom(i.getZoom())})})}initializeSearchAndRender(){this.search(),this.render(this.resultContainer)}searchAndRender(){this.search();const t=this.resultContainer;this.render(t),this.urlStateContainer.setCriteriaMap(t.getCriteriaMap())}searchAndCount(){return this.search(),this.resultContainer.getCount()}search(){this.resultContainer=this.searcherManager.search()}renderAfterSearch(){const t=this.resultContainer;this.render(t),this.urlStateContainer.setCriteriaMap(t.getCriteriaMap())}render(t){this.mapViewer.render(t),this.statsViewer.render(t)}renderLinks(){this.dataViewer.render(this.resultContainer)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(25);e.FilledSearcher=class{constructor(t,e){this.source=t,this.filterContainerBuilder=e}search(){const t=Date.now(),e=this.filterContainerBuilder.build(),s=e.filter(this.source),n=Date.now()-t;return new i.ResultContainer(s,e.getCriteriaMap(),n)}};e.NullSearcher=class{search(){return new i.ResultContainer([],{},0)}};e.SearcherManager=class{constructor(t){this.searcher=t}search(){return this.searcher.search()}setSearcher(t){this.searcher=t}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ResultContainer=class{constructor(t,e,s){this.result=t,this.criteriaMap=e,this.duration=s}getCount(){return this.result.length}getResult(){return this.result}getDuration(){return this.duration}getCriteriaMap(){return this.criteriaMap}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(3),n=s(10),r=s(11),a=s(12),o=s(14),c=s(15),l=s(0),u=s(16),h=s(1),d=s(6),p=s(17),m=s(18),f=s(19),y=s(20),w=s(21),g=s(9),C=s(22),b=s(2),v=s(8),S=s(23);$(document).ready(function(){const t=27,e=13,s=new r.UniqueKeyChecker,o=s.unique("vacancy-query"),c=s.unique("vacancy-city"),l=s.unique("company-review"),h=s.unique("company"),d=s.unique("vacancy-newest"),p=s.unique("vacancy-salary"),g=s.unique("company-size"),C=s.unique("company-type"),b=new n.MultiCheckboxCriteriaConverter,v=new n.IdentityCriteriaConverter,k=new n.MultiSelectCriteriaConverter,O=new a.UrlStateContainer({center:{latitude:50.4435158,longitude:30.5030242},zoom:14},500,s.keys(),{[l]:v,[o]:v,[h]:b,[c]:b,[d]:v,[p]:new n.RangeCriteriaConverter,[g]:k,[C]:k}),x=$("#js-vacancy-autocomplete"),F=$("#js-company-autocomplete"),A=$("#js-city-autocomplete"),N=$("#js-review-exists"),P=$("#js-vacancy-newest"),B=$("#js-nearest-center-companies"),R=$("#js-selected-companies"),V=$("#js-selected-cities"),z=$("#js-salary-from"),L=$("#js-salary-to"),E=$("#js-company-size-filter input"),I=$("#js-company-type-filter input"),T=new i.AutocompletedCheckboxListView(R,"company"),D=new i.AutocompletedCheckboxListView(V,"city");let q=new i.EmptyCloseComponent;const U=new S.Application(O,new i.MapViewerManager(new j),new ot(B,O),new rt($("#js-result-vacancy-count"),$("#js-result-company-count"),$("#js-result-show-time")),new i.ApiClient(COMPANIES_DATA_JSON),new _,new u.FilterContainerBuilder({[l]:new Z(N,O.getCriteriaByName(l)),[h]:new f.AliasFilterStateMatcherBuilder(R),[g]:new J(E,O.getCriteriaByName(g)),[C]:new X(I,O.getCriteriaByName(C))},{[c]:new tt(V),[o]:new Y(x,O.getCriteriaByName(o)),[d]:new it(P,O.getCriteriaByName(d)),[p]:new nt(z,L,O.getCriteriaByName(p,{}))}),new m.CallbackFilterViewBuilder(function(t){const e=new at(t);x.autocomplete({data:e.getVacancyNameMap(),onAutocomplete:function(t){U.searchAndRender()}}),q=M.Autocomplete.getInstance(x),F.autocomplete({data:e.getCompanyNameMap(),onAutocomplete:function(t){const s=e.findCompanyAliasByName(t);T.addChecked(t,s),F.val(""),U.searchAndRender()}}),A.autocomplete({data:e.getCityNameMap(),onAutocomplete:function(t){const s=e.findCityAliasByName(t);D.addChecked(t,s),A.val(""),U.searchAndRender()}}),T.render(t,O.getCriteriaByName(h)),D.render(e.getCities(),O.getCriteriaByName(c)),x.attr("placeholder",function(t){const e=lt(t);return lt(e.vacancies).title}(t)),F.attr("placeholder",lt(t).name)}));U.start();const G=$(".js-container"),H=new w.ResultCountComponent(new y.SubmitAction(function(){U.renderAfterSearch()})),W=function(){H.setTop($(this).offset().top-G.offset().top),H.showCount(U.searchAndCount())},K=function(t){t.keyCode===e&&U.searchAndRender()};N.on("change",W),P.on("change",W),E.on("change",W),I.on("change",W),R.on("change","input",W),V.on("change","input",W),z.on("keyup",K),L.on("keyup",K),$("#js-search-submit").click(function(){U.searchAndRender()}),x.on("keyup",function(s){s.keyCode===e&&(U.searchAndRender(),q.close()),s.keyCode===t&&q.close()}),$("#js-tabs").tabs(),$("#js-sync-list-result").click(function(){U.renderLinks()})});class j{group(t){return function(t){const e=new p.GroupMarkerMap(k);for(let s of t)for(let t of s.offices){const i=V(t,s.vacancies);0!==i.length&&e.add(t.location.latitude,t.location.longitude,new N(s.alias,s.name,[t],i,s.review_count,s.employee_count,s.type))}return e}(t)}}class k extends p.GroupMarker{getTitle(){const t=[];for(let e of this.list)t.push(e.name);return t.join(" | ")}getContent(){const t=[];for(let e of this.list){const s=[];for(let t of e.vacancies)s.push('<a href="'+L(e.alias,t.id)+'" target="_blank">'+t.title+"</a>"+I(t.salary));const i=e.offices[0],n=`<div class="infowindow"><a class="infowindow-company" href=${E(e.alias)} target="_blank">${e.name}</a></br><p class="infowindow-address">${i.address}</p>${s.join("<br/>")}</div>`;t.push(n)}return t.join("<br/><br/>")}}class _{unzip(t){return function(t){const e=t.length,s=new Array(e);for(let i=0;i<e;i++){const e=t[i];s[i]=new N(e[0],e[1],O(e[2]),x(e[3]),e[4],e[5],e[6])}return s}(t)}}function O(t){const e=t.length,s=new Array(e);for(let i=0;i<e;i++){const e=t[i];s[i]=new B(F(e[0]),e[1],e[2])}return s}function x(t){const e=t.length,s=new Array(e);for(let i=0;i<e;i++){const e=t[i];s[i]=new R(e[0],e[1],A(e[2]),e[3],e[4],e[5])}return s}function F(t){return new P(t[0],t[1],t[2])}function A(t){return t.map(F)}class N{constructor(t,e,s,i,n,r,a){this.alias=t,this.name=e,this.offices=s,this.vacancies=i,this.review_count=n,this.employee_count=r,this.type=a}}class P{constructor(t,e,s){this.alias=t,this.name=e,this.origin=s}}class B{constructor(t,e,s){this.city=t,this.address=e,this.location=new C.Location(s[0],s[1])}}class R{constructor(t,e,s,i,n,r){this.id=t,this.title=e,this.cities=s,this.existsOffice=i,this.salary=n,this.published=r}}function V(t,e){const s=[];for(let i=0;i<e.length;i++){const n=e[i];(!1===n.existsOffice||z(n.cities,[t.city]))&&s.push(n)}return s}function z(t,e){for(let n=0;n<e.length;n++)for(let r=0;r<t.length;r++)if(s=t[r],i=e[n],s.alias===i.alias||s.origin===i.origin)return!0;var s,i;return!1}function L(t,e){return`https://jobs.dou.ua/companies/${t}/vacancies/${e}/`}function E(t){return`https://jobs.dou.ua/companies/${t}/`}function I(t){return t?" ("+t+")":""}class T{match(t){return t.review_count>0}}class D extends g.MultiSelectMatcher{match(t){return this.aliasMap.hasOwnProperty(t.employee_count)}}class q extends g.MultiSelectMatcher{match(t){return this.aliasMap.hasOwnProperty(t.type)}}class U{constructor(t){this.matcher=t}modify(t){const e=[],s=this.matcher;for(let i=0;i<t.vacancies.length;i++){const n=t.vacancies[i];s(n)&&e.push(n)}return e.length>0?new N(t.alias,t.name,t.offices,e,t.review_count,t.employee_count,t.type):null}}class G extends U{constructor(t){const e=t.toLowerCase();super(function(t){return-1!==t.title.toLowerCase().indexOf(e)})}}class H extends U{constructor(t){let{from:e,to:s}=t;0===s&&(s=Number.MAX_SAFE_INTEGER),super(function(t){return""!==t.salary&&function(t,e,s){const i=t.split("–"),n=[];for(let t=0;t<i.length;t++){const r=parseInt(i[t].replace(/\D/g,""),10);if(W(e,s,r))return!0;n.push(r)}1===n.length&&(n[1]=n[0]);return W(n[0],n[1],e)||W(n[0],n[1],s)}(t.salary,e,s)})}}function W(t,e,s){return t<=s&&s<=e}class Z extends o.CheckboxFilterMatchBuilder{constructor(t,e){super(t,e,T)}}class K{constructor(t,e,s){if(null!==e){const s=b.createAliasMap(e);t.each(function(){const t=$(this),e=t.attr("data-alias");s.hasOwnProperty(e)&&t.attr("checked","checked")})}this.$checkboxes=t,this.className=s}build(){const t=i.getCheckedAliases(this.$checkboxes);return t.length>0?new h.FilterStateMatcher(l.FilledFilterState(t),new this.className(t)):h.NullFilterStateMatcherObject}}class J extends K{constructor(t,e){super(t,e,D)}}class X extends K{constructor(t,e){super(t,e,q)}}class Y{constructor(t,e){this.$element=t,null!==e&&this.$element.val(e)}build(){const t=this.$element.val();return t.length>0?new d.FilterStateModifier(l.FilledFilterState(t),new G(t)):d.NullFilterStateModifierObject}}class Q{constructor(t,e){this.aliasMap=b.createAliasMap(t),this.state=e}modify(t){const e=[],s=[];for(let i=0;i<t.offices.length;i++){const n=t.offices[i];this.aliasMap.hasOwnProperty(n.city.alias)===this.state&&(e.push(n),s.push(n.city))}if(0===e.length)return null;const i=[];for(let e=0;e<t.vacancies.length;e++){const n=t.vacancies[e];(!1===n.existsOffice||z(n.cities,s))&&i.push(n)}return 0===i.length?null:new N(t.alias,t.name,e,i,t.review_count,t.employee_count,t.type)}}class tt{constructor(t){this.$element=t}build(){const t=v.createAliasStateMapByCheckboxes($("input",this.$element));return t.selected.length?new d.FilterStateModifier(l.FilledFilterState(t.aliasStateMap),new Q(t.selected,!0)):t.disabled.length?new d.FilterStateModifier(l.FilledFilterState(t.aliasStateMap),new Q(t.disabled,!1)):d.NullFilterStateModifierObject}}function et(t){return t>9?t:"0"+t}class st extends U{constructor(){const t=function(t){const e=864e5*t,s=new Date;return s.setTime(s.getTime()-e),`${s.getFullYear()}-${et(s.getMonth()+1)}-${et(s.getDate())}`}(7);super(function(e){return e.published>=t})}}class it extends c.CheckboxStateModifierBuilder{constructor(t,e){super(t,e,st)}}class nt{constructor(t,e,{from:s,to:i}={from:0,to:0}){this.$salaryFrom=t,this.$salaryTo=e,s>0&&this.$salaryFrom.val(s),i>0&&this.$salaryTo.val(i)}build(){const t=parseInt(this.$salaryFrom.val()||"0",10),e=parseInt(this.$salaryTo.val()||"0",10);if(isNaN(t)||isNaN(e)||t<0||e<0||t>e&&e>0||0===t&&0===e)return d.NullFilterStateModifierObject;const s={from:t,to:e};return new d.FilterStateModifier(l.FilledFilterState(s),new H(s))}}class rt{constructor(t,e,s){this.$vacancyCount=t,this.$companyCount=e,this.$duration=s}render(t){this.$duration.html(t.getDuration()),this.$vacancyCount.html(function(t){const e=t.getResult();let s=0;for(let t=0;t<e.length;t++)s+=e[t].vacancies.length;return s}(t)),this.$companyCount.html(t.getCount())}}class at{constructor(t){const e={},s={},i={},n={},r={},a=[];for(let o=0;o<t.length;o++){const c=t[o];e[c.name]=null,n[c.name]=c.alias;const l=c.vacancies;for(let t=0;t<l.length;t++){const e=l[t];s[e.title]=null;for(let t=0;t<e.cities.length;t++){const s=e.cities[t];""!==s.alias&&!1===i.hasOwnProperty(s.name)&&(i[s.name]=null,r[s.name]=s.alias,a.push(s))}}}this.companyNameMap=e,this.vacancyNameMap=s,this.cityNameMap=i,this.companyNameAliasMap=n,this.cityNameAliasMap=r,this.cities=a}getCompanyNameMap(){return this.companyNameMap}getCityNameMap(){return this.cityNameMap}getCities(){return this.cities}getVacancyNameMap(){return this.vacancyNameMap}findCompanyAliasByName(t){return this.companyNameAliasMap.hasOwnProperty(t)?this.companyNameAliasMap[t]:""}findCityAliasByName(t){return this.cityNameAliasMap.hasOwnProperty(t)?this.cityNameAliasMap[t]:""}}class ot{constructor(t,e){this.$element=t,this.urlStateContainer=e}render(t){const e=t.getResult(),s=this.urlStateContainer.getCenter();e.sort(function(t,e){return C.distance(t.offices[0].location,s)-C.distance(e.offices[0].location,s)});const i=[],n=Math.min(e.length,20);for(let t=0;t<n;t++)i.push(ct(e[t]));this.$element.html(i.join(""))}}function ct(t){const e=[];for(let s=0;s<t.vacancies.length;s++){const i=t.vacancies[s];e.push(`<p><a href="${L(t.alias,i.id)}" target="_blank">${i.title}</a></p>`)}return`\n        <div class="row">\n            <div class="col s12 work-block z-depth-2 card-panel hoverable">\n                <div class="col s12 header">\n                    <div class="title"><a href="${E(t.alias)}" target="_blank">${t.name}</a></div>\n                </div>\n                <div class="col s12 message">\n                    ${e.join("")}\n                </div>\n            </div>\n        </div>\n    `}function lt(t){const e=t.length-1;return t[Math.floor(Math.random()*e)]}}]);