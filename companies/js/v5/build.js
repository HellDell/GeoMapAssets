!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=26)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t){this.criteria=e,this.empty=t}isEmpty(){return this.empty}getCriteria(){return this.criteria}}t.FilledFilterState=function(e){return new i(e,!1)},t.EmptyFilterStateObject=new i([],!0)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(5);class n{constructor(e,t){this.state=e,this.matcher=t}getState(){return this.state}getMatcher(){return this.matcher}}t.FilterStateMatcher=n,t.NullFilterStateMatcherObject=new n(i.EmptyFilterStateObject,new r.SameMatcher)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAliasMap=function(e){const t={};for(let s=0;s<e.length;s++)t[e[s]]=!0;return t}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ApiClient=class{constructor(e){this.url=e}data(e,t){fetch(this.url).then(e=>e.json()).then(e).catch(t)}};t.SyncState=class{constructor(e){this.completeHandler=e,this.map=null,this.data=null}setMap(e){this.map=e,this.sync()}setData(e){this.data=e,this.sync()}sync(){null!==this.map&&null!==this.data&&(0,this.completeHandler)(this.data,this.map)}};class i{constructor(){this.loaded=!1,this.handler=null}handle(){if(null===this.handler)this.loaded=!0;else{(0,this.handler)()}}on(e){this.loaded?e():this.handler=e}}t.LoadHandler=i,t.createSyncHandler=function(){const e=new i,t=function(){e.handle()};return t.on=function(t){e.on(t)},t},t.getCheckedAliases=function(e){const t=[];return e.each(function(){const e=$(this),s=e.attr("data-alias");e.is(":checked")&&t.push(s)}),t};t.EmptyDataViewer=class{render(e){}};class r{render(e){}}t.EmptyMapViewer=r;class n{constructor(e,t){this.locationGrouper=e,this.map=t,this.marker=[]}render(e){this.clear();const t=this.locationGrouper.group(e.getResult()),s=t.map;for(let e in s)if(s.hasOwnProperty(e))for(let i in s[e])if(s[e].hasOwnProperty(i)){const s=t.fetch(e,i),r=new google.maps.LatLng(e,i),n=new google.maps.Marker({position:r,map:this.map,title:s.getTitle()});this.click(n,s),this.marker.push(n)}}click(e,t){const s=this.map;google.maps.event.addListener(e,"click",function(){new google.maps.InfoWindow({content:t.getContent()}).open(s,e)})}clear(){for(let e=0;e<this.marker.length;e++){const t=this.marker[e];t.setMap(null),google.maps.event.clearListeners(t,"click")}}}t.FilledMapViewer=n;t.MapViewerManager=class{constructor(e){this.locationGrouper=e,this.mapViewer=new r}setMap(e){this.mapViewer=new n(this.locationGrouper,e)}render(e){this.mapViewer.render(e)}};t.StatsViewer=class{render(e){}};t.EmptyCloseComponent=class{close(){}};t.AutocompletedCheckboxListView=class{constructor(e,t){const s=this;this.$element=e,this.componentAlias=t,this.aliasMap={},e.on("click",".js-remove",function(e){const t=$(e.target).closest("p"),i=$("input",t).attr("data-alias");t.remove(),s.remove(i)})}addChecked(e,t){this.aliasMap.hasOwnProperty(t)||(this.$element.append(this.renderCheckbox(e,t,!0)),this.aliasMap[t]=!0)}render(e,t){if(null===t)return;const s=[];for(let i=0;i<e.length;i++){const r=e[i];t.hasOwnProperty(r.alias)&&(s.push(this.renderCheckbox(r.name,r.alias,!0===t[r.alias])),this.aliasMap[r.alias]=!0)}this.$element.append(s.join(""))}renderCheckbox(e,t,s){let i="";s&&(i="checked");const r=`js-${this.componentAlias}-input-${t}`;return`<p>\n    <label for="${r}">\n        <input type="checkbox" id="${r}" ${i} data-alias="${t}" />\n        <span>${e} <span class="badge js-remove">x</span></span>\n    </label>\n</p>`}remove(e){delete this.aliasMap[e]}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CheckboxComponent=class{constructor(e,t){this.$element=e,"1"===t&&this.$element.attr("checked","checked")}checked(){return this.$element.is(":checked")}criteria(){return"1"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SameMatcher=class{match(e){return!0}};t.MergeMatcher=class{constructor(e,t){this.source=e,this.next=t}match(e){return this.source.match(e)&&this.next.match(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(7);class n{constructor(e,t){this.filterState=e,this.modifier=t}getState(){return this.filterState}getModifier(){return this.modifier}}t.FilterStateModifier=n,t.NullFilterStateModifierObject=new n(i.EmptyFilterStateObject,new r.SameModifier)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SameModifier=class{modify(e){return e}};t.MergeModifier=class{constructor(e,t){this.source=e,this.next=t}modify(e){const t=this.source.modify(e);return null===t?null:this.next.modify(t)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,s){this.aliasStateMap=e,this.selected=t,this.disabled=s}}t.AliasStateMap=i,t.createAliasStateMapByCheckboxes=function(e){const t=[],s=[],r={};return e.each(function(){const e=$(this),i=e.attr("data-alias"),n=e.is(":checked");r[i]=n,n?t.push(i):s.push(i)}),new i(r,t,s)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);class r{constructor(e){this.aliasMap=i.createAliasMap(e)}}t.MultiSelectMatcher=r;t.SameAliasMatcher=class extends r{constructor(e,t){super(e),this.state=t}match(e){return this.aliasMap.hasOwnProperty(e.alias)===this.state}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IdentityCriteriaConverter=class{unmarshal(e){return e}marshal(e){return e}};t.RangeCriteriaConverter=class{constructor(){this.delimiter="-"}unmarshal(e){const t=e.split(this.delimiter),s=parseInt(t[0],10);if(2===t.length){const e=parseInt(t[1],10);return e>0&&e>=s?{from:s,to:e}:null}return s>0?{from:s,to:0}:0}marshal({from:e,to:t}){const s=[e];return t>0&&s.push(t),s.join(this.delimiter)}};t.MultiSelectCriteriaConverter=class{constructor(){this.delimiter=","}unmarshal(e){return""!==e?e.split(this.delimiter):null}marshal(e){return 0===e.length?"":e.join(this.delimiter)}};t.MultiCheckboxCriteriaConverter=class{constructor(){this.suffix="-unchecked"}unmarshal(e){if(""!==e){const t=e.split(","),s={};for(let e=0;e<t.length;e++){const i=t[e];i.endsWith(this.suffix)?s[i.substring(0,i.length-this.suffix.length)]=!1:s[i]=!0}return s}return null}marshal(e){const t=[];for(let s in e)if(e.hasOwnProperty(s)){const i=e[s];!0===i?t.push(s):!1===i?t.push(s+this.suffix):console.error(`wrong state for "${s}" = "${i}"`)}return t.join(",")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UniqueKeyChecker=class{constructor(){this.map={},this.list=[]}unique(e){if(this.map.hasOwnProperty(e))throw new Error(`already exists: ${e}`);return this.map[e]=!0,this.list.push(e),e}keys(){return this.list}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(13),r="center";t.UrlStateContainer=class{constructor(e,t,s,n){!function(e,t){for(let s=0;s<e.length;s++){const i=e[s];if(!t.hasOwnProperty(i))throw new Error(`missing converter for "${i}"`)}}(s,n),this.center=e.center,this.zoom=e.zoom;const a=new URLSearchParams(window.location.search.substring(1));if(a.has(r)){const e=function(e){if(e){const[t,s,i]=e.trim().split(","),r=parseFloat(t),n=parseFloat(s),a=parseFloat(i);if(r>0&&n>0&&a>0)return[r,n,a]}return null}(a.get(r));if(e){const[t,s,i]=e;this.center={latitude:t,longitude:s},this.zoom=i}}this.buildCriteriaMap(this.parseCriteriaMap(a,s,n)),this.debounce=new i.Debounce(t),this.lazyUpdateHandler=this.update.bind(this)}getCenter(){return this.center}setCenter(e){this.center=e,this.lazyUpdate()}getZoom(){return this.zoom}setZoom(e){this.zoom=e,this.lazyUpdate()}getCriteriaByName(e,t=null){return this.criteriaMap.hasOwnProperty(e)?this.criteriaMap[e]:t}setCriteriaMap(e){this.buildCriteriaMap(e),this.update()}buildCriteriaMap(e){const t=[];for(let s in e)if(e.hasOwnProperty(s)){const i=this.criteriaNameConverterMap[s];t.push("&"+s+"="+encodeURIComponent(i.marshal(e[s])))}this.criteriaMap=e,this.criteria=t.join("")}parseCriteriaMap(e,t,s){this.criteriaNameConverterMap=s;const i={};for(let r=0;r<t.length;r++){const n=t[r];if(e.has(n)){const t=s[n],r=decodeURIComponent(e.get(n)).trim();if(""!==r){const e=t.unmarshal(r);null!==e&&(i[n]=e)}}}return i}lazyUpdate(){this.debounce.handle(this.lazyUpdateHandler)}update(){const e=this.center.latitude+","+this.center.longitude+","+this.zoom,t=window.location.pathname+"?"+r+"="+e+this.criteria;window.history.pushState(null,"",t),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Pageview",url:t})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Debounce=class{constructor(e){this.delay=e,this.timerId=0}handle(e){clearTimeout(this.timerId),this.timerId=setTimeout(e,this.delay)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4),r=s(0),n=s(1);t.CheckboxFilterMatchBuilder=class{constructor(e,t,s){this.checkbox=new i.CheckboxComponent(e,t),this.className=s}build(){if(this.checkbox.checked()){const e=this.className;return new n.FilterStateMatcher(r.FilledFilterState(this.checkbox.criteria()),new e)}return n.NullFilterStateMatcherObject}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4),r=s(0),n=s(6);t.CheckboxStateModifierBuilder=class{constructor(e,t,s){this.checkbox=new i.CheckboxComponent(e,t),this.className=s}build(){if(this.checkbox.checked()){const e=this.className;return new n.FilterStateModifier(r.FilledFilterState(this.checkbox.criteria()),new e)}return n.NullFilterStateModifierObject}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),r=s(7);class n{constructor(e={}){this.criteriaMap=e}getCriteriaMap(){return this.criteriaMap}}t.FilterContainer=n;class a{constructor(){this.map={},this.exists=!1}add(e,t){this.map[e]=t,this.exists=!0}isExists(){return this.exists}getMap(){return this.map}}t.FilterContainerBuilder=class{constructor(e,t){this.matcherBuilderMap=e,this.modifierBuilderMap=t}build(){const e=new a;let t=new i.SameMatcher;for(let s in this.matcherBuilderMap)if(this.matcherBuilderMap.hasOwnProperty(s)){const r=this.matcherBuilderMap[s].build(),n=r.getState();if(n.isEmpty())continue;e.add(s,n.getCriteria()),t=new i.MergeMatcher(t,r.getMatcher())}let s=new r.SameModifier;for(let t in this.modifierBuilderMap)if(this.modifierBuilderMap.hasOwnProperty(t)){const i=this.modifierBuilderMap[t].build(),n=i.getState();if(n.isEmpty())continue;e.add(t,n.getCriteria()),s=new r.MergeModifier(s,i.getModifier())}return e.isExists()?new c(e.getMap(),t,s):new o}};class o extends n{filter(e){return e}}class c extends n{constructor(e,t,s){super(e),this.matcher=t,this.modifier=s}filter(e){const t=[];for(let s=0;s<e.length;s++){const i=e[s];if(this.matcher.match(i)){const e=this.modifier.modify(i);null!==e&&t.push(e)}}return t}}t.FilledFilterContainer=c},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GroupMarker=class{constructor(e){this.list=e}};t.GroupMarkerMap=class{constructor(e){this.metaClass=e,this.map={}}add(e,t,s){this.map[e]=this.map[e]||{},this.map[e][t]=this.map[e][t]||[],this.map[e][t].push(s)}fetch(e,t){const s=this.map[e][t];return new(0,this.metaClass)(s)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmptyFilterViewBuilder=class{build(e){}};t.CallbackFilterViewBuilder=class{constructor(e){this.handler=e}build(e){(0,this.handler)(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(8),r=s(9),n=s(0),a=s(1);t.AliasFilterStateMatcherBuilder=class{constructor(e){this.$element=e}build(){const e=i.createAliasStateMapByCheckboxes($("input",this.$element));return e.selected.length>0?new a.FilterStateMatcher(n.FilledFilterState(e.aliasStateMap),new r.SameAliasMatcher(e.selected,!0)):e.disabled.length>0?new a.FilterStateMatcher(n.FilledFilterState(e.aliasStateMap),new r.SameAliasMatcher(e.disabled,!1)):a.NullFilterStateMatcherObject}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SubmitAction=class{constructor(e){this.handler=e}submit(){this.handler()}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor({shown:e=!1,loaded:t=!1,submit:s=!1,empty:i=!1,count:r=0}={}){this.shown=e,this.loaded=t,this.submit=s,this.empty=i,this.count=r}}t.ResultCountProps=i;t.ResultCountComponent=class{constructor(e){this.$hint=$("#js-count-hint"),this.$loader=$(".js-count-loader",this.$hint),this.$count=$(".js-count-result",this.$hint),this.$empty=$(".js-empty",this.$hint),this.$submit=$(".js-submit",this.$hint),$(".js-close",this.$hint).click(()=>this.hide()),this.$submit.click(()=>{e.submit(),this.hide()})}setTop(e){this.$hint.css("top",e)}showCount(e){this.render(new i({shown:!0,submit:e>0,empty:0===e,count:e}))}render(e){this.$hint.toggleClass("shown",e.shown),this.$loader.toggleClass("loader",e.loaded),this.$count.html(e.count),this.$empty.toggle(e.empty),this.$submit.toggle(e.submit)}hide(){this.render(new i)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Location=class{constructor(e,t){this.latitude=e,this.longitude=t}},t.distance=function(e,t){const s=e.latitude-t.latitude,i=e.longitude-t.longitude;return s*s+i*i}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),r=s(24);window.initializeMap=i.createSyncHandler();t.Application=class{constructor(e,t,s,i,n,a,o,c){this.urlStateContainer=e,this.mapViewer=t,this.dataViewer=s,this.statsViewer=i,this.apiClient=n,this.archiver=a,this.filterContainerBuilder=o,this.filterViewBuilder=c,this.searcherManager=new r.SearcherManager(new r.NullSearcher),this.resultContainer=this.searcherManager.search()}start(){const e=this,t=this.urlStateContainer,s=this.mapViewer,n=this.archiver,a=this.apiClient,o=this.filterContainerBuilder,c=this.filterViewBuilder,l=this.searcherManager,u=new i.SyncState(function(t,i){const a=n.unzip(t);c.build(a),l.setSearcher(new r.FilledSearcher(a,o)),s.setMap(i),e.initializeSearchAndRender()});a.data(function(e){u.setData(e)},console.error),window.initializeMap.on(function(){const e=t.getCenter(),s={zoom:t.getZoom(),center:new google.maps.LatLng(e.latitude,e.longitude),mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControl:!1},i=new google.maps.Map(document.getElementById("js-google-map"),s);u.setMap(i),i.addListener("center_changed",function(){const e=i.getCenter();t.setCenter({latitude:e.lat(),longitude:e.lng()})}),i.addListener("zoom_changed",function(){t.setZoom(i.getZoom())})})}initializeSearchAndRender(){this.search(),this.render(this.resultContainer)}searchAndRender(){this.search();const e=this.resultContainer;this.render(e),this.urlStateContainer.setCriteriaMap(e.getCriteriaMap())}searchAndCount(){return this.search(),this.resultContainer.getCount()}search(){this.resultContainer=this.searcherManager.search()}renderAfterSearch(){const e=this.resultContainer;this.render(e),this.urlStateContainer.setCriteriaMap(e.getCriteriaMap())}render(e){this.mapViewer.render(e),this.statsViewer.render(e)}renderLinks(){this.dataViewer.render(this.resultContainer)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(25);t.FilledSearcher=class{constructor(e,t){this.source=e,this.filterContainerBuilder=t}search(){const e=Date.now(),t=this.filterContainerBuilder.build(),s=t.filter(this.source),r=Date.now()-e;return new i.ResultContainer(s,t.getCriteriaMap(),r)}};t.NullSearcher=class{search(){return new i.ResultContainer([],{},0)}};t.SearcherManager=class{constructor(e){this.searcher=e}search(){return this.searcher.search()}setSearcher(e){this.searcher=e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ResultContainer=class{constructor(e,t,s){this.result=e,this.criteriaMap=t,this.duration=s}getCount(){return this.result.length}getResult(){return this.result}getDuration(){return this.duration}getCriteriaMap(){return this.criteriaMap}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),r=s(10),n=s(11),a=s(12),o=s(14),c=s(15),l=s(0),u=s(16),h=s(1),d=s(6),p=s(17),m=s(18),f=s(19),y=s(20),w=s(21),g=s(9),C=s(22),b=s(2),v=s(8),S=s(23);$(document).ready(function(){const e=27,t=13,s=new n.UniqueKeyChecker,o=s.unique("vacancy-query"),c=s.unique("vacancy-city"),l=s.unique("company-review"),h=s.unique("company"),d=s.unique("vacancy-newest"),p=s.unique("vacancy-salary"),g=s.unique("company-size"),C=s.unique("company-type"),b=new r.MultiCheckboxCriteriaConverter,v=new r.IdentityCriteriaConverter,k=new r.MultiSelectCriteriaConverter,O=new a.UrlStateContainer({center:{latitude:50.4435158,longitude:30.5030242},zoom:14},500,s.keys(),{[l]:v,[o]:v,[h]:b,[c]:b,[d]:v,[p]:new r.RangeCriteriaConverter,[g]:k,[C]:k}),F=$("#js-vacancy-autocomplete"),x=$("#js-company-autocomplete"),A=$("#js-city-autocomplete"),N=$("#js-review-exists"),P=$("#js-vacancy-newest"),B=$("#js-nearest-center-companies"),R=$("#js-selected-companies"),V=$("#js-selected-cities"),z=$("#js-salary-from"),L=$("#js-salary-to"),E=$("#js-company-size-filter input"),I=$("#js-company-type-filter input"),T=new i.AutocompletedCheckboxListView(R,"company"),D=new i.AutocompletedCheckboxListView(V,"city");let q=new i.EmptyCloseComponent;const U=new S.Application(O,new i.MapViewerManager(new j),new oe(B,O),new ne($("#js-result-vacancy-count"),$("#js-result-company-count"),$("#js-result-show-time")),new i.ApiClient(COMPANIES_DATA_JSON),new _,new u.FilterContainerBuilder({[l]:new K(N,O.getCriteriaByName(l)),[h]:new f.AliasFilterStateMatcherBuilder(R),[g]:new J(E,O.getCriteriaByName(g)),[C]:new X(I,O.getCriteriaByName(C))},{[c]:new ee(V),[o]:new Y(F,O.getCriteriaByName(o)),[d]:new ie(P,O.getCriteriaByName(d)),[p]:new re(z,L,O.getCriteriaByName(p,{}))}),new m.CallbackFilterViewBuilder(function(e){const t=new ae(e);F.autocomplete({data:t.getVacancyNameMap(),onAutocomplete:function(e){U.searchAndRender()}}),q=M.Autocomplete.getInstance(F),x.autocomplete({data:t.getCompanyNameMap(),onAutocomplete:function(e){const s=t.findCompanyAliasByName(e);T.addChecked(e,s),x.val(""),U.searchAndRender()}}),A.autocomplete({data:t.getCityNameMap(),onAutocomplete:function(e){const s=t.findCityAliasByName(e);D.addChecked(e,s),A.val(""),U.searchAndRender()}}),T.render(e,O.getCriteriaByName(h)),D.render(t.getCities(),O.getCriteriaByName(c)),F.attr("placeholder",function(e){const t=le(e);return le(t.vacancies).title}(e)),x.attr("placeholder",le(e).name)}));U.start();const G=$(".js-container"),H=new w.ResultCountComponent(new y.SubmitAction(function(){U.renderAfterSearch()})),Z=function(){H.setTop($(this).offset().top-G.offset().top),H.showCount(U.searchAndCount())},W=function(e){e.keyCode===t&&U.searchAndRender()};N.on("change",Z),P.on("change",Z),E.on("change",Z),I.on("change",Z),R.on("change","input",Z),V.on("change","input",Z),z.on("keyup",W),L.on("keyup",W),$("#js-search-submit").click(function(){U.searchAndRender()}),F.on("keyup",function(s){s.keyCode===t&&(U.searchAndRender(),q.close()),s.keyCode===e&&q.close()}),$("#js-tabs").tabs(),$("#js-sync-list-result").click(function(){U.renderLinks()})});class j{group(e){return function(e){const t=new p.GroupMarkerMap(k);for(let s of e)for(let e of s.offices){const i=V(e,s.vacancies);0!==i.length&&t.add(e.location.latitude,e.location.longitude,new N(s.alias,s.name,[e],i,s.review_count,s.employee_count,s.type))}return t}(e)}}class k extends p.GroupMarker{getTitle(){const e=[];for(let t of this.list)e.push(t.name);return e.join(" | ")}getContent(){const e=[];for(let t of this.list){const s=[];for(let e of t.vacancies)s.push('<a href="'+L(t.alias,e.id)+'" target="_blank">'+e.title+"</a>"+I(e.salary));const i=t.offices[0],r=`<div class="infowindow"><a class="infowindow-company" href=${E(t.alias)} target="_blank">${t.name}</a></br><p class="infowindow-address">${i.address}</p>${s.join("<br/>")}</div>`;e.push(r)}return e.join("<br/><br/>")}}class _{unzip(e){return function(e){const t=e.length,s=new Array(t);for(let i=0;i<t;i++){const t=e[i];s[i]=new N(t[0],t[1],O(t[2]),F(t[3]),t[4],t[5],t[6])}return s}(e)}}function O(e){const t=e.length,s=new Array(t);for(let i=0;i<t;i++){const t=e[i];s[i]=new B(x(t[0]),t[1],t[2])}return s}function F(e){const t=e.length,s=new Array(t);for(let i=0;i<t;i++){const t=e[i];s[i]=new R(t[0],t[1],A(t[2]),t[3],t[4],t[5])}return s}function x(e){return new P(e[0],e[1],e[2])}function A(e){return e.map(x)}class N{constructor(e,t,s,i,r,n,a){this.alias=e,this.name=t,this.offices=s,this.vacancies=i,this.review_count=r,this.employee_count=n,this.type=a}}class P{constructor(e,t,s){this.alias=e,this.name=t,this.origin=s}}class B{constructor(e,t,s){this.city=e,this.address=t,this.location=new C.Location(s[0],s[1])}}class R{constructor(e,t,s,i,r,n){this.id=e,this.title=t,this.cities=s,this.existsOffice=i,this.salary=r,this.published=n}}function V(e,t){const s=[];for(let i=0;i<t.length;i++){const r=t[i];(!1===r.existsOffice||z(r.cities,[e.city]))&&s.push(r)}return s}function z(e,t){for(let r=0;r<t.length;r++)for(let n=0;n<e.length;n++)if(s=e[n],i=t[r],s.alias===i.alias||s.origin===i.origin)return!0;var s,i;return!1}function L(e,t){return`https://jobs.dou.ua/companies/${e}/vacancies/${t}/`}function E(e){return`https://jobs.dou.ua/companies/${e}/`}function I(e){return e?" ("+e+")":""}class T{match(e){return e.review_count>0}}class D extends g.MultiSelectMatcher{match(e){return this.aliasMap.hasOwnProperty(e.employee_count)}}class q extends g.MultiSelectMatcher{match(e){return this.aliasMap.hasOwnProperty(e.type)}}class U{constructor(e){this.matcher=e}modify(e){const t=[],s=this.matcher;for(let i=0;i<e.vacancies.length;i++){const r=e.vacancies[i];s(r)&&t.push(r)}return t.length>0?new N(e.alias,e.name,e.offices,t,e.review_count,e.employee_count,e.type):null}}class G extends U{constructor(e){const t=e.toLowerCase();super(function(e){return-1!==e.title.toLowerCase().indexOf(t)})}}class H extends U{constructor(e){let{from:t,to:s}=e;0===s&&(s=Number.MAX_SAFE_INTEGER),super(function(e){return""!==e.salary&&function(e,t,s){const i=e.split("–"),r=[];for(let e=0;e<i.length;e++){const n=parseInt(i[e].replace(/\D/g,""),10);if(Z(t,s,n))return!0;r.push(n)}1===r.length&&(r[1]=r[0]);return Z(r[0],r[1],t)||Z(r[0],r[1],s)}(e.salary,t,s)})}}function Z(e,t,s){return e<=s&&s<=t}class K extends o.CheckboxFilterMatchBuilder{constructor(e,t){super(e,t,T)}}class W{constructor(e,t,s){if(null!==t){const s=b.createAliasMap(t);e.each(function(){const e=$(this),t=e.attr("data-alias");s.hasOwnProperty(t)&&e.attr("checked","checked")})}this.$checkboxes=e,this.className=s}build(){const e=i.getCheckedAliases(this.$checkboxes);return e.length>0?new h.FilterStateMatcher(l.FilledFilterState(e),new this.className(e)):h.NullFilterStateMatcherObject}}class J extends W{constructor(e,t){super(e,t,D)}}class X extends W{constructor(e,t){super(e,t,q)}}class Y{constructor(e,t){this.$element=e,null!==t&&this.$element.val(t)}build(){const e=this.$element.val();return e.length>0?new d.FilterStateModifier(l.FilledFilterState(e),new G(e)):d.NullFilterStateModifierObject}}class Q{constructor(e,t){this.aliasMap=b.createAliasMap(e),this.state=t}modify(e){const t=[],s=[];for(let i=0;i<e.offices.length;i++){const r=e.offices[i];this.aliasMap.hasOwnProperty(r.city.alias)===this.state&&(t.push(r),s.push(r.city))}if(0===t.length)return null;const i=[];for(let t=0;t<e.vacancies.length;t++){const r=e.vacancies[t];(!1===r.existsOffice||z(r.cities,s))&&i.push(r)}return 0===i.length?null:new N(e.alias,e.name,t,i,e.review_count,e.employee_count,e.type)}}class ee{constructor(e){this.$element=e}build(){const e=v.createAliasStateMapByCheckboxes($("input",this.$element));return e.selected.length?new d.FilterStateModifier(l.FilledFilterState(e.aliasStateMap),new Q(e.selected,!0)):e.disabled.length?new d.FilterStateModifier(l.FilledFilterState(e.aliasStateMap),new Q(e.disabled,!1)):d.NullFilterStateModifierObject}}function te(e){return e>9?e:"0"+e}class se extends U{constructor(){const e=function(e){const t=864e5*e,s=new Date;return s.setTime(s.getTime()-t),`${s.getFullYear()}-${te(s.getMonth()+1)}-${te(s.getDate())}`}(7);super(function(t){return t.published>=e})}}class ie extends c.CheckboxStateModifierBuilder{constructor(e,t){super(e,t,se)}}class re{constructor(e,t,{from:s,to:i}={from:0,to:0}){this.$salaryFrom=e,this.$salaryTo=t,s>0&&this.$salaryFrom.val(s),i>0&&this.$salaryTo.val(i)}build(){const e=parseInt(this.$salaryFrom.val()||"0",10),t=parseInt(this.$salaryTo.val()||"0",10);if(isNaN(e)||isNaN(t)||e<0||t<0||e>t&&t>0||0===e&&0===t)return d.NullFilterStateModifierObject;const s={from:e,to:t};return new d.FilterStateModifier(l.FilledFilterState(s),new H(s))}}class ne{constructor(e,t,s){this.$vacancyCount=e,this.$companyCount=t,this.$duration=s}render(e){this.$duration.html(e.getDuration()),this.$vacancyCount.html(function(e){const t=e.getResult();let s=0;for(let e=0;e<t.length;e++)s+=t[e].vacancies.length;return s}(e)),this.$companyCount.html(e.getCount())}}class ae{constructor(e){const t={},s={},i={},r={},n={},a=[];for(let o=0;o<e.length;o++){const c=e[o];t[c.name]=null,r[c.name]=c.alias;const l=c.vacancies;for(let e=0;e<l.length;e++){const t=l[e];s[t.title]=null;for(let e=0;e<t.cities.length;e++){const s=t.cities[e];""!==s.alias&&!1===i.hasOwnProperty(s.name)&&(i[s.name]=null,n[s.name]=s.alias,a.push(s))}}}this.companyNameMap=t,this.vacancyNameMap=s,this.cityNameMap=i,this.companyNameAliasMap=r,this.cityNameAliasMap=n,this.cities=a}getCompanyNameMap(){return this.companyNameMap}getCityNameMap(){return this.cityNameMap}getCities(){return this.cities}getVacancyNameMap(){return this.vacancyNameMap}findCompanyAliasByName(e){return this.companyNameAliasMap.hasOwnProperty(e)?this.companyNameAliasMap[e]:""}findCityAliasByName(e){return this.cityNameAliasMap.hasOwnProperty(e)?this.cityNameAliasMap[e]:""}}class oe{constructor(e,t){this.$element=e,this.urlStateContainer=t}render(e){const t=e.getResult(),s=this.urlStateContainer.getCenter();t.sort(function(e,t){return C.distance(e.offices[0].location,s)-C.distance(t.offices[0].location,s)});const i=[],r=Math.min(t.length,20);for(let e=0;e<r;e++)i.push(ce(t[e]));this.$element.html(i.join(""))}}function ce(e){const t=[];for(let s=0;s<e.vacancies.length;s++){const i=e.vacancies[s];t.push(`<p><a href="${L(e.alias,i.id)}" target="_blank">${i.title}</a></p>`)}return`\n        <div class="row">\n            <div class="col s12 work-block z-depth-2 card-panel hoverable">\n                <div class="col s12 header">\n                    <div class="title"><a href="${E(e.alias)}" target="_blank">${e.name}</a></div>\n                </div>\n                <div class="col s12 message">\n                    ${t.join("")}\n                </div>\n            </div>\n        </div>\n    `}function le(e){const t=e.length-1;return e[Math.floor(Math.random()*t)]}}]);